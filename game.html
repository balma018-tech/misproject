<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Rapunzel's Game Page</title>


   <!-- Import Comfortaa font from Google Fonts -->
   <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">


   <style>
      body {
         font-family: 'Comfortaa', cursive;
         margin: 0;
         padding: 0;
         background-color: white;
         display: flex;
         flex-direction: column;
         min-height: 100vh;
      }


      nav ul {
         list-style: none;
         padding: 0;
         margin: 0;
         display: flex;
         justify-content: center;
         gap: 15px;
         background-color: #1B365D;
      }


      nav ul li a {
         color: #072b42;
         text-decoration: none;
         padding: 20px 15px; /* Increased padding for double height */
         font-size: 1.2rem;   /* Slightly larger font */
         display: block;
      }


      nav ul li a:hover {
         background-color: #25749c;
         color: #c0e9ff;
      }


      .game-container {
         flex: 1;
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         padding: 20px;
         text-align: center;
      }


      h1 {
         margin-bottom: 20px;
         color: #c0e9ff;
         font-size: 3rem; /* Adjusted for visibility */
      }


      #message {
         font-size: 1.2rem;
         margin-bottom: 15px;
         min-height: 1.5em;
         color: #c0e9ff;
      }


      #game {
         display: inline-grid;
         grid-template-columns: repeat(3, 100px);
         grid-template-rows: repeat(3, 100px);
         gap: 5px;
         margin-bottom: 20px;
      }


      .cell {
         background-color: #c0e9ff;
         border: 5px solid #2d4453;
         font-size: 50px;
         cursor: pointer;
         display: flex;
         align-items: center;
         justify-content: center;
         user-select: none;
         transition: background-color 0.3s;
      }


      .cell:hover {
         background-color: #b0d9ee;
      }


      #resetButton {
         padding: 10px 20px;
         font-size: 1rem;
         cursor: pointer;
         border: none;
         background-color: #2d4453;
         color: #c0e9ff;
         border-radius: 5px;
         transition: background-color 0.3s;
      }


      #resetButton:hover {
         background-color: #2d4453;
      }
   </style>
</head>
<body>
   <nav>
       <ul>
           <li><a href="index.html">Home</a></li>
           <li><a href="hobbies.html">Hobbies</a></li>
           <li><a href="discover.html">Discover UMD</a></li>
           <li><a href="resume.html">Resume</a></li>
           <li><a href="career.html">Career</a></li>
           <li><a href="game.html">Game</a></li>
       </ul>
   </nav>


   <div class="game-container">
      <h1>This is the Game Page</h1>
      <div id="message">Your turn!</div>
      <div id="game">
         <div class="cell" data-index="0"></div>
         <div class="cell" data-index="1"></div>
         <div class="cell" data-index="2"></div>
         <div class="cell" data-index="3"></div>
         <div class="cell" data-index="4"></div>
         <div class="cell" data-index="5"></div>
         <div class="cell" data-index="6"></div>
         <div class="cell" data-index="7"></div>
         <div class="cell" data-index="8"></div>
      </div>
      <button id="resetButton">Restart Game</button>
   </div>


   <script>
      const gameBoard = ['', '', '', '', '', '', '', '', ''];
      const bulldog = 'ðŸ¶';  // Player
      const bone = 'ðŸ¦´';     // Computer
      let currentPlayer = bulldog;
      let gameActive = true;
      let autoRestartTimeout = null;


      const winningConditions = [
         [0,1,2],
         [3,4,5],
         [6,7,8],
         [0,3,6],
         [1,4,7],
         [2,5,8],
         [0,4,8],
         [2,4,6]
      ];


      const cells = document.querySelectorAll('.cell');
      const message = document.getElementById('message');
      const resetButton = document.getElementById('resetButton');


      function handleCellClick(e) {
         const index = e.target.getAttribute('data-index');


         if (gameBoard[index] !== '' || !gameActive || currentPlayer !== bulldog) {
            return;
         }


         makeMove(index, bulldog);


         if (!gameActive) return;


         currentPlayer = bone;
         message.textContent = "Computer's turn!";
         setTimeout(computerMove, 700);
      }


      function makeMove(index, player) {
         gameBoard[index] = player;
         cells[index].textContent = player;


         if (checkWin()) {
            message.textContent = `${player === bulldog ? 'You ' : 'Computer '} won! ðŸŽ‰`;
            gameActive = false;
            scheduleRestart();
            return;
         }


         if (isDraw()) {
            message.textContent = "It's a draw!";
            gameActive = false;
            scheduleRestart();
            return;
         }


         currentPlayer = player === bulldog ? bone : bulldog;
         if (gameActive) {
            message.textContent = currentPlayer === bulldog ? "Your turn!" : "Computer's turn!";
         }
      }


      function computerMove() {
         if (!gameActive) return;


         const availableIndices = gameBoard
            .map((val, idx) => val === '' ? idx : null)
            .filter(val => val !== null);


         if (availableIndices.length === 0) return;


         const randomIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
         makeMove(randomIndex, bone);
      }


      function checkWin() {
         return winningConditions.some(condition => {
            const [a, b, c] = condition;
            return gameBoard[a] && gameBoard[a] === gameBoard[b] && gameBoard[b] === gameBoard[c];
         });
      }


      function isDraw() {
         return gameBoard.every(cell => cell !== '');
      }


      function resetGame() {
         clearTimeout(autoRestartTimeout);
         for (let i = 0; i < gameBoard.length; i++) {
            gameBoard[i] = '';
            cells[i].textContent = '';
         }
         currentPlayer = bulldog;
         gameActive = true;
         message.textContent = `Your turn!`;
      }


      function scheduleRestart() {
         autoRestartTimeout = setTimeout(() => {
            resetGame();
         }, 2000);
      }


      cells.forEach(cell => cell.addEventListener('click', handleCellClick));
      resetButton.addEventListener('click', resetGame);
   </script>
</body>
</html>
